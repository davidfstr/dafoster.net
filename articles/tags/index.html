---
layout: page
title: Articles (By Topic)
breadcrumbs: [/, /articles/]
---
{% include JB/setup %}

<div class="row">
  <div class="span9">
    <h1>{{ page.title }}</h1>
    
    {% for tag in site.tags %} 
      <h2 class="topic-h" id="{{ tag[0] }}-ref">{{ tag[0] }} <small>{{ tag[1].size }}</small></h2>
      <ul>
        {% assign post_list = tag[1] %}
        {% for post in post_list %}
          <li><span>{{ post.date | date_to_string }}</span> &raquo; <a href="{{ BASE_PATH }}{{ post.url }}">{{ post.title }}</a></li>
        {% endfor %}
      </ul>
    {% endfor %}
  </div>
  
  <div class="span3 block-bar">
    {% include blocks/article_topics %}
  </div>
</div>

<script>
  function endsWith(str, end) {
    return str.substring(str.length - end.length) == end;
  }
  
  function locationChanged() {
    // Highlight topic corresponding to current anchor (if specified)
    if (location.hash && endsWith(location.hash, "-ref")) {
      var topic = location.hash.substring(1, location.hash.length - "-ref".length);
      document.getElementById(topic + "-ref").className += " active";
      document.getElementById(topic + "-topic").className += " active";
    }
  }
  
  // TODO: Listen to the document for subsequent changes to the location
  //       (such as by clicking a topic on the sidebar).
  locationChanged();
</script>
